# ğŸ“˜ JavaScript Cheat Sheet: Execution Context

## ğŸ” What is an Execution Context?

> ğŸ§  It's the **environment** in which JavaScript code is **evaluated and executed**.

Every time a function is invoked or global code runs, **a new execution context is created**.

---

## ğŸ§© Types of Execution Contexts

| Type                                    | Description                                                      |
| --------------------------------------- | ---------------------------------------------------------------- |
| ğŸŒ **Global Execution Context (GEC)**   | Created when the JS script starts running. Only one per program. |
| ğŸ” **Function Execution Context (FEC)** | Created every time a function is called. Many possible.          |
| ğŸ§ª **Eval Execution Context**           | Created inside `eval()` (rarely used, generally avoided).        |

---

## ğŸ§± Phases of Execution Context

Each Execution Context has **2 main phases**:

### 1ï¸âƒ£ **Creation Phase**

* Sets up **Memory/Variable Environment**:

  * `var` â†’ initialized to `undefined`
  * `let` / `const` â†’ in **Temporal Dead Zone (TDZ)** (not initialized yet)
  * Functions â†’ **hoisted with definitions**
* Creates:

  * `this` binding
  * `scope` (Lexical Environment)
  * Sets up outer environment reference

### 2ï¸âƒ£ **Execution Phase**

* Assigns values
* Executes code line-by-line

---

## ğŸ§  Execution Context Stack (Call Stack)

JavaScript uses a **stack (LIFO)** to manage execution contexts.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Global Context         â”‚ ğŸ‘‘ First in, last out
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Function Context (sayHi)â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Function Context (log) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> ğŸ“¤ When a function is called â†’ pushed to stack
> ğŸ“¥ When it finishes â†’ popped from stack

---

## ğŸ§ª Example Breakdown

```js
var a = 10;

function foo() {
  var b = 20;
  console.log(a + b);
}

foo();
```

### ğŸ‘‰ Execution Context Flow:

1. **Global EC Created**

   * `a â†’ undefined`, `foo â†’ function`
   * `this â†’ window/global`
2. **Execution**

   * `a â†’ 10`
   * `foo()` invoked
3. **Function EC for foo() Created**

   * `b â†’ undefined`, `this â†’ undefined`
   * `console.log(a + b)` runs â†’ outputs 30

---

## ğŸ“Œ Key Interview Takeaways

* âœ… Everything in JS runs inside an execution context
* âœ… Each function call creates a **new EC**
* âœ… Hoisting happens during the **creation phase**
* âœ… TDZ applies to `let` and `const` only
* âœ… Call Stack tracks whatâ€™s running

---

## âš ï¸ Common Pitfalls

| Mistake                                       | Why It Happens                                                         |
| --------------------------------------------- | ---------------------------------------------------------------------- |
| Accessing `let/const` before declaration      | TDZ error                                                              |
| Thinking function declarations arenâ€™t hoisted | They **are**, with full body                                           |
| Forgetting `this` binding context             | It depends on how a function is **called**, not where itâ€™s **defined** |

---

## ğŸ¯ Interview-Pro Tip:

> â€œExecution Contexts are like â€˜virtual boxesâ€™ JavaScript uses to manage scope, memory, and execution order â€” created for every function and at the global level.â€